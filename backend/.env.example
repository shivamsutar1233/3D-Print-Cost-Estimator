# Environment Variables Template

Copy this to `backend/.env` and fill in your values from the Google Service Account JSON file.

```env
# Google Sheets Configuration
GOOGLE_SHEET_ID=1a2b3c4d5e6f7g8h9i0j_your_sheet_id_here
GOOGLE_PROJECT_ID=my-3d-estimator-project
GOOGLE_PRIVATE_KEY_ID=abc123def456ghi789jkl012mno345pqr
GOOGLE_PRIVATE_KEY=-----BEGIN PRIVATE KEY-----\nMIIEvQIBADANBgkqhkiG9w0BAQE...\n-----END PRIVATE KEY-----\n
GOOGLE_CLIENT_ID=123456789-abc123def456ghi789jkl012mno34pq.apps.googleusercontent.com
GOOGLE_SERVICE_ACCOUNT_EMAIL=3d-estimator@my-project.iam.gserviceaccount.com
GOOGLE_CLIENT_X509_CERT_URL=https://www.googleapis.com/robot/v1/metadata/x509/3d-estimator%40my-project.iam.gserviceaccount.com
```

## How to Extract These Values

### From Google Service Account JSON File:

```json
{
  "type": "service_account",
  "project_id": "← GOOGLE_PROJECT_ID",
  "private_key_id": "← GOOGLE_PRIVATE_KEY_ID",
  "private_key": "← GOOGLE_PRIVATE_KEY (copy exactly as-is)",
  "client_email": "← GOOGLE_SERVICE_ACCOUNT_EMAIL",
  "client_id": "← GOOGLE_CLIENT_ID",
  "auth_uri": "https://accounts.google.com/o/oauth2/auth",
  "token_uri": "https://oauth2.googleapis.com/token",
  "auth_provider_x509_cert_url": "https://www.googleapis.com/oauth2/v1/certs",
  "client_x509_cert_url": "← GOOGLE_CLIENT_X509_CERT_URL"
}
```

### GOOGLE_SHEET_ID:

From your Google Sheet URL:
```
https://docs.google.com/spreadsheets/d/{COPY_THIS_PART}/edit
```

## Important Notes

1. **private_key**: Copy the ENTIRE value including `-----BEGIN PRIVATE KEY-----` and `-----END PRIVATE KEY-----`
2. **Newlines**: The `\n` characters should be LITERAL backslash-n in your .env file, NOT actual newline characters
3. **Quotes**: Don't add quotes around values in .env
4. **Spaces**: Make sure there are no spaces around the `=` sign

## Example Complete .env File

```env
GOOGLE_SHEET_ID=1xKp9mN_7zqV_fL8xK_yT_your_actual_sheet_id
GOOGLE_PROJECT_ID=my-awesome-project-12345
GOOGLE_PRIVATE_KEY_ID=key123456789abcdef
GOOGLE_PRIVATE_KEY=-----BEGIN PRIVATE KEY-----\nMIIEvgIBADANBgkqhkiG9w0BAQEFAASCBKgwggSkAgEAAoIBAQC7VJTUt9Us8cKj\nMzEfYyjiWA4/4ggMknj+JUkS3l2Y9x8k2lPUABLFARxjqGl7p4N6HhBQGLVLzj4U\nVcyJjQsqp4wL0MbqXHZhsA0xqQ3kAiSxyXZLdvEXrHiNJBQAEWLQxKnGMB4qAp6D\n/7wz+UvXWJ6/V1m9VB0RgBfyxZAXCBkj+j0lj8bCCJB7XNTLvTsWREJ0llBfKqBg\n0sCJH8xWnPl7QIYMDjCgKkZSLQx8V2MgKmDyZfNe5Z5gMh5J2K8VBkW3Pz0DZvE0\nHjz0/Y/sVCKgKbfGHqHmL8/0aKl3RX5nMBIZfEqAAoGBAPKXXhZCEVNiNJ6LZsPo\nWiTkSv8vA+/4W2WjXEsZ3m8n0M6PaKQLNVxR4hO3eUhCLe8cGW5bVvxQHnUx/Cq2\nM3KF3/llbKJZvOXNbzPhP3Yj6aF8KE9p1gHKkLeL6WLaJvZLLB6/P0R7YY7YnIeN\nJL7aBXnZhQjB7mJPwVYhAoGBAPEqM3O9BnJVi6LPZLwMbqVN9sDqyJUWlAVWoVT5\nL5Pru5kWPbBKbHr4gMoSwH9IVkXHjJ3Ky5JYQY8r5fR+MqA5CPh4J8VpFPPQX0hC\nJ7LRQJM4VHPR4vvA8uDlJvLXqRBChcVnfXlmZ8L6TBJ5+XnU/Fb3wTVRVKYjZAoG\nBAOiBxLfkEq0LiPQ+qv7tTnC/P5YGQAAAA\n-----END PRIVATE KEY-----\n
GOOGLE_CLIENT_ID=123456789-abc123def456ghi789jkl012mno34pq.apps.googleusercontent.com
GOOGLE_SERVICE_ACCOUNT_EMAIL=3d-estimator-service@my-awesome-project-12345.iam.gserviceaccount.com
GOOGLE_CLIENT_X509_CERT_URL=https://www.googleapis.com/robot/v1/metadata/x509/3d-estimator-service%40my-awesome-project-12345.iam.gserviceaccount.com
```

## Verification

After setting up, verify in backend console:
```bash
node -e "console.log(process.env.GOOGLE_SHEET_ID)"
# Should output your sheet ID
```

If you see `undefined`, the .env file isn't being read correctly.

## Security Best Practices

1. **Never commit .env to git** - Add to `.gitignore`
2. **Don't share private_key** - Keep it private
3. **Rotate keys periodically** - Generate new service account keys quarterly
4. **Use environment variables** - Not hardcoded strings in code
5. **Restrict sheet access** - Share only with necessary service accounts

## Troubleshooting

- **Module not found 'googleapis'**: Run `npm install googleapis uuid` in backend folder
- **Invalid private key format**: Make sure `\n` are literal characters, not newlines
- **Sheet not found**: Verify GOOGLE_SHEET_ID is correct
- **Permission denied**: Make sure service account email is shared on the sheet
